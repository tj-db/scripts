<!DOCTYPE html> <html lang="en"> <head>     <meta charset="UTF-8">     <meta name="viewport" content="width=device-width, initial-scale=1.0">     <title>Boomerang Video</title>     <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@latest"></script> </head> <body>     <h1>Upload a Video to Create a Boomerang Effect</h1>     <input type="file" id="videoInput" accept="video/mp4">     <button id="processButton">Create Boomerang Video</button>     <video id="outputVideo" controls></video>      <script>         const { createFFmpeg, fetchFile } = FFmpeg; // Ensure FFmpeg is referenced here          // Initialize the FFmpeg library         const ffmpeg = createFFmpeg({ log: true });          document.getElementById('processButton').addEventListener('click', async () => {             const fileInput = document.getElementById('videoInput');             if (!fileInput.files.length) {                 alert("Please upload a video file first.");                 return;             }             const file = fileInput.files[0];              // Load FFmpeg             await ffmpeg.load();              // Load the video file into FFmpeg             ffmpeg.FS('writeFile', 'input.mp4', await fetchFile(file));              // Create the boomerang effect (repeating the video 10 times)             let cmd = "[0:v]";  // Start with the original video              for (let i = 0; i < 10; i++) {                 cmd += `reverse[v${i}];[0:v][v${i}]concat=n=2:v=1:a=0[vout]`;             }              // Process the video with the boomerang effect             await ffmpeg.run('-filter_complex', cmd, '-map', '[vout]', 'output.mp4');              // Retrieve the processed video and display it             const data = ffmpeg.FS('readFile', 'output.mp4');             const videoBlob = new Blob([data.buffer], { type: 'video/mp4' });             const videoUrl = URL.createObjectURL(videoBlob);             document.getElementById('outputVideo').src = videoUrl;         });     </script> </body> </html>